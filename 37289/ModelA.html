<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Learn with Fun</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
    body { background-color: #33FFBD; font-family: 'Arial', sans-serif; }
    .nav-tabs { border-bottom: 2px solid #FF5733; }
    .nav-link { color: #FF5733; }
    .nav-link.active { background-color: #FF5733 !important; color: white !important; }
    .card { margin: 10px; cursor: pointer; transition: transform 0.2s; }
    .card:hover { transform: scale(1.05); }
    #gameArea { display: none; }
    .star { font-size: 24px; }
    .green-star { color: green; }
    .red-star { color: red; }
</style>
</head>
<body>

<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="flashcards-tab" data-bs-toggle="tab" data-bs-target="#flashcards" type="button" role="tab" aria-controls="flashcards" aria-selected="true">Flashcards</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="games-tab" data-bs-toggle="tab" data-bs-target="#games" type="button" role="tab" aria-controls="games" aria-selected="false">Games</button>
  </li>
</ul>

<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="flashcards" role="tabpanel" aria-labelledby="flashcards-tab">
    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="fruits-tab" data-bs-toggle="pill" data-bs-target="#fruits" type="button" role="tab" aria-controls="fruits" aria-selected="true">Fruits</button>
      </li>
      <!-- Add similar buttons for Vegetables, Colors, Vehicles -->
    </ul>
    <div class="tab-content" id="pills-tabContent">
      <div class="tab-pane fade show active" id="fruits" role="tabpanel" aria-labelledby="fruits-tab">
        <div id="fruitsContent" class="d-flex flex-wrap justify-content-center"></div>
      </div>
      <!-- Content panes for other categories -->
    </div>
  </div>
  
  <div class="tab-pane fade" id="games" role="tabpanel" aria-labelledby="games-tab">
    <div id="gameArea" class="text-center"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const categories = ['fruits', 'vegetables', 'colors', 'vehicles'];
    const flashcardsData = {}; // This will be populated from an API

    // Mock API call - replace with actual API
    function fetchData(category) {
        return new Promise(resolve => {
            setTimeout(() => {
                resolve({
                    'apple': { image: 'apple.jpg', audio: 'apple.mp3' },
                    'banana': { image: 'banana.jpg', audio: 'banana.mp3' }
                    // ... more items
                });
            }, 500);
        });
    }

    categories.forEach(category => {
        document.getElementById(`${category}-tab`).addEventListener('click', async () => {
            if (!flashcardsData[category]) {
                flashcardsData[category] = await fetchData(category);
            }
            displayFlashcards(category, flashcardsData[category]);
        });
    });

    function displayFlashcards(category, data) {
        const contentDiv = document.getElementById(`${category}Content`);
        contentDiv.innerHTML = '';
        Object.keys(data).forEach(item => {
            const card = document.createElement('div');
            card.className = 'card' + ' text-center';
            card.innerHTML = `<img src="${data[item].image}" class="card-img-top" alt="${item}" style="width: 100px; height: 100px; object-fit: cover;">
                              <div class="card-body">
                                <p class="card-text">${item}</p>
                              </div>`;
            card.onclick = () => new Audio(data[item].audio).play();
            contentDiv.appendChild(card);
        });
    }

    // Game Logic
    function setupGame() {
        const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
        const gameArea = document.getElementById('gameArea');
        gameArea.innerHTML = ''; // Clear previous game
        letters.forEach(letter => {
            const upper = document.createElement('span');
            upper.textContent = letter;
            upper.draggable = true;
            upper.className = 'm-2 p-2 border';
            const lower = document.createElement('span');
            lower.textContent = letter.toLowerCase();
            lower.className = 'm-2 p-2 border dropzone';
            
            gameArea.appendChild(upper);
            gameArea.appendChild(lower);
        });

        // Basic drag and drop functionality - this needs refinement for actual use
        gameArea.addEventListener('dragover', e => e.preventDefault());
        gameArea.addEventListener('drop', function(e) {
            e.preventDefault();
            const data = e.dataTransfer.getData("text");
            if (e.target.className.includes('dropzone')) {
                const result = (data.toLowerCase() === e.target.textContent) ? 'green-star' : 'red-star';
                e.target.innerHTML += `<span class="star ${result}">*</span>`;
            }
        });
    }

    document.getElementById('games-tab').addEventListener('click', setupGame);
</script>

</body>
</html>